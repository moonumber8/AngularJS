<form #myform="ngForm" class="form form-register">
<div class="col-xl-3">
    <div class="logo">Create a new account!</div>
    <div class="form-group form-group mx-sm-3 mb-2">  
        <div class="form-field form-group mx-sm-3 mb-2">         
          <input name="email" id="register-email" type="email" class="form-control mb-2 mr-sm-2 " placeholder="Email" ngModel required>
        </div>
        <div class="form-field form-group mx-sm-3 mb-2">  
          <input name="phone_number" id="phone_number" type="text" class="form-control mb-2 mr-sm-2" placeholder="Password" ngModel required>
        </div>    
        <div class="form-field form-group mx-sm-3 mb-2">
          <input class="btn btn-primary" type="button" value="Register"  (click)="onSubmit_data(myform.value)">
        </div>
    </div>
</div>
<br>
<hr>
<br>
<div class="form-group col-xl-3 mx-sm-3 mb-2">
  <label for="aaaabbbb" class="sr-only" >Password</label>
  <input ngModel name="txt_search" type="text" class="form-control mb-2 mr-sm-2" id="aaaabbbb" placeholder="กด Enter เพื่อค้นหา" (keyup)="func_search($event)" > 
  <br>
  <!--<button type="submit" class="btn btn-primary mb-2">Confirm identity</button>-->
</div>

<div>
  <table class="table col-xl-12 mx-sm-2 mb-2">
    <thead class="thead-dark">
      <tr>
        <th scope="col" style="width: 5%;">#</th>
        <th scope="col" style="width: 35%;">email</th>
        <th scope="col" style="width: 35%;">phone number</th>
        <th scope="col" style="width: 15%;">จัดการ</th>
      </tr>
    </thead>
    <tbody>
    <tr *ngFor="let item of mDataArray;  let i = index;">
      <td>{{i+1}}</td>
      <td>{{item.email}}</td>
      <td>{{item.phone_number}}</td>
      <td style="margin-left: 20%;"><button type="button" class="btn btn-primary btn-warning" (click)="onClick(template,item._id)" data-toggle="modal" data-target="#exampleModal">จัดการข้อูล</button><button style="margin-left: 3px;" type="button" class="btn btn-primary btn-danger"  (click)="del_data(item._id)">ลบช้อมูล</button></td>
    </tr>
    </tbody>
  </table>
</div>

<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">แก้ไขข้อมูล</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <br>
  <form #myformEdit="ngForm" class="form form-register">
    <div class="">    
      <div class="logo"></div>
      <div class="form-group mx-sm-3 mb-2">       
          <div class="form-field form-group mx-sm-3 mb-2">         
            <input name="email" id="register-email" type="email" class="form-control mb-2 mr-sm-2 " placeholder="Email"  [(ngModel)]="mDetailArray.email" required>
          </div>
          <div class="form-field form-group mx-sm-3 mb-2">  
            <input name="phone_number" id="phone_number" type="text" class="form-control mb-2 mr-sm-2"  placeholder="Password" [(ngModel)]="mDetailArray.phone_number" required>
          </div>       
      </div>
    </div>
    <div style="padding: 10px;">
      <button type="button" class="btn btn-success" (click)="edit_data(myformEdit.value,item_id)">บันทึก</button>
      <button style="margin-left: 3px;" type="button" class="btn btn-danger" (click)="disabled = !disabled">ยกเลิก</button>
    </div>
  </form> 
  <br>
</ng-template>

</form>







